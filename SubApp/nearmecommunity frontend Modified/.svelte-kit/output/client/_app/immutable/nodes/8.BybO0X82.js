import{s as ze,c as Ue,o as Qe,n as $}from"../chunks/DXpsuylB.js";import{S as Fe,i as Re,d as g,k as Oe,l as be,m as ye,n as fe,A as Ge,a as F,b as s,o as Se,p as ke,r as c,c as h,e as p,v as U,g as w,u as Be,h as v,j as C,w as He,z as xe,s as re,f as J,t as K,x as De,y as Ve,B as Je}from"../chunks/p7MHL9ij.js";import{e as de}from"../chunks/DIaVnnCb.js";import{u as Ke}from"../chunks/dHoYvIwq.js";import{g as We}from"../chunks/CnkrIbET.js";import{a as Te}from"../chunks/BXx2BqBK.js";import{L as Xe}from"../chunks/MVhhnn2Y.js";import{U as Ye}from"../chunks/7iNLmiED.js";function Le(d,e,t){const r=d.slice();return r[13]=e[t],r}function qe(d,e,t){const r=d.slice();return r[16]=e[t],r}function Me(d,e,t){const r=d.slice();return r[16]=e[t],r}function Ae(d){let e,t,r="Filter by tags:",l,o,a=de(d[4]),u=[];for(let i=0;i<a.length;i+=1)u[i]=Pe(Me(d,a,i));return{c(){e=v("div"),t=v("div"),t.textContent=r,l=C(),o=v("div");for(let i=0;i<u.length;i+=1)u[i].c();this.h()},l(i){e=h(i,"DIV",{class:!0});var n=p(e);t=h(n,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-uh9az2"&&(t.textContent=r),l=w(n),o=h(n,"DIV",{class:!0});var f=p(o);for(let T=0;T<u.length;T+=1)u[T].l(f);f.forEach(g),n.forEach(g),this.h()},h(){c(t,"class","text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"),c(o,"class","flex flex-wrap gap-2"),c(e,"class","mt-4")},m(i,n){F(i,e,n),s(e,t),s(e,l),s(e,o);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(o,null)},p(i,n){if(n&146){a=de(i[4]);let f;for(f=0;f<a.length;f+=1){const T=Me(i,a,f);u[f]?u[f].p(T,n):(u[f]=Pe(T),u[f].c(),u[f].m(o,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=a.length}},d(i){i&&g(e),xe(u,i)}}}function Pe(d){let e,t=d[16]+"",r,l,o,a,u;function i(){return d[10](d[16])}return{c(){e=v("button"),r=K(t),l=C(),this.h()},l(n){e=h(n,"BUTTON",{class:!0});var f=p(e);r=J(f,t),l=w(f),f.forEach(g),this.h()},h(){c(e,"class",o=`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium transition-colors ${d[1].includes(d[16])?"bg-primary-100 text-primary-800 dark:bg-primary-900/40 dark:text-primary-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`)},m(n,f){F(n,e,f),s(e,r),s(e,l),a||(u=ke(e,"click",i),a=!0)},p(n,f){d=n,f&16&&t!==(t=d[16]+"")&&re(r,t),f&18&&o!==(o=`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium transition-colors ${d[1].includes(d[16])?"bg-primary-100 text-primary-800 dark:bg-primary-900/40 dark:text-primary-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`)&&c(e,"class",o)},d(n){n&&g(e),a=!1,u()}}}function Ze(d){let e,t=de(d[5]),r=[];for(let l=0;l<t.length;l+=1)r[l]=Ne(Le(d,t,l));return{c(){e=v("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=h(l,"DIV",{class:!0});var o=p(e);for(let a=0;a<r.length;a+=1)r[a].l(o);o.forEach(g),this.h()},h(){c(e,"class","space-y-4")},m(l,o){F(l,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(l,o){if(o&32){t=de(l[5]);let a;for(a=0;a<t.length;a+=1){const u=Le(l,t,a);r[a]?r[a].p(u,o):(r[a]=Ne(u),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},i:$,o:$,d(l){l&&g(e),xe(r,l)}}}function $e(d){let e,t,r="No questions found matching your criteria",l;function o(i,n){return i[1].length>0||i[0]?lt:rt}let a=o(d),u=a(d);return{c(){e=v("div"),t=v("div"),t.textContent=r,l=C(),u.c(),this.h()},l(i){e=h(i,"DIV",{class:!0});var n=p(e);t=h(n,"DIV",{class:!0,"data-svelte-h":!0}),U(t)!=="svelte-1wez6fb"&&(t.textContent=r),l=w(n),u.l(n),n.forEach(g),this.h()},h(){c(t,"class","text-gray-500 dark:text-gray-400 mb-4"),c(e,"class","bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 text-center")},m(i,n){F(i,e,n),s(e,t),s(e,l),u.m(e,null)},p(i,n){a===(a=o(i))&&u?u.p(i,n):(u.d(1),u=a(i),u&&(u.c(),u.m(e,null)))},i:$,o:$,d(i){i&&g(e),u.d()}}}function et(d){let e,t,r,l,o="Try again",a,u;return{c(){e=v("div"),t=K(d[3]),r=C(),l=v("button"),l.textContent=o,this.h()},l(i){e=h(i,"DIV",{class:!0});var n=p(e);t=J(n,d[3]),r=w(n),l=h(n,"BUTTON",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-1ikznhp"&&(l.textContent=o),n.forEach(g),this.h()},h(){c(l,"class","underline ml-2"),c(e,"class","bg-danger-50 dark:bg-danger-900/20 text-danger-800 dark:text-danger-200 p-4 rounded-lg mb-6")},m(i,n){F(i,e,n),s(e,t),s(e,r),s(e,l),a||(u=ke(l,"click",d[6]),a=!0)},p(i,n){n&8&&re(t,i[3])},i:$,o:$,d(i){i&&g(e),a=!1,u()}}}function tt(d){let e,t,r;return t=new Xe({props:{size:"lg"}}),{c(){e=v("div"),He(t.$$.fragment),this.h()},l(l){e=h(l,"DIV",{class:!0});var o=p(e);Be(t.$$.fragment,o),o.forEach(g),this.h()},h(){c(e,"class","flex justify-center py-20")},m(l,o){F(l,e,o),Se(t,e,null),r=!0},p:$,i(l){r||(ye(t.$$.fragment,l),r=!0)},o(l){be(t.$$.fragment,l),r=!1},d(l){l&&g(e),Oe(t)}}}function je(d){let e,t=d[16]+"",r,l;return{c(){e=v("span"),r=K(t),l=C(),this.h()},l(o){e=h(o,"SPAN",{class:!0});var a=p(e);r=J(a,t),l=w(a),a.forEach(g),this.h()},h(){c(e,"class","badge badge-primary")},m(o,a){F(o,e,a),s(e,r),s(e,l)},p(o,a){a&32&&t!==(t=o[16]+"")&&re(r,t)},d(o){o&&g(e)}}}function Ne(d){var A;let e,t,r,l,o=d[13].title+"",a,u,i,n,f,T,L=(((A=d[13].answers)==null?void 0:A.length)||0)+"",W,X,z,m,D=d[13].content+"",O,P,V,le,q,Y,ae,Q=(d[13].userId||"Anonymous")+"",S,B,ee,M=new Date(d[13].createdAt).toLocaleDateString()+"",se,j,ne,R=de(d[13].tags),k=[];for(let _=0;_<R.length;_+=1)k[_]=je(qe(d,R,_));return{c(){e=v("div"),t=v("a"),r=v("div"),l=v("h3"),a=K(o),u=C(),i=v("div"),n=Ve("svg"),f=Ve("path"),T=C(),W=K(L),X=K(" answers"),z=C(),m=v("p"),O=K(D),P=C(),V=v("div");for(let _=0;_<k.length;_+=1)k[_].c();le=C(),q=v("div"),Y=v("div"),ae=K("Asked by "),S=K(Q),B=C(),ee=v("div"),se=K(M),ne=C(),this.h()},l(_){e=h(_,"DIV",{class:!0});var E=p(e);t=h(E,"A",{href:!0,class:!0});var y=p(t);r=h(y,"DIV",{class:!0});var x=p(r);l=h(x,"H3",{class:!0});var G=p(l);a=J(G,o),G.forEach(g),u=w(x),i=h(x,"DIV",{class:!0});var Z=p(i);n=De(Z,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var ce=p(n);f=De(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(f).forEach(g),ce.forEach(g),T=w(Z),W=J(Z,L),X=J(Z," answers"),Z.forEach(g),x.forEach(g),z=w(y),m=h(y,"P",{class:!0});var I=p(m);O=J(I,D),I.forEach(g),P=w(y),V=h(y,"DIV",{class:!0});var ue=p(V);for(let N=0;N<k.length;N+=1)k[N].l(ue);ue.forEach(g),le=w(y),q=h(y,"DIV",{class:!0});var H=p(q);Y=h(H,"DIV",{});var oe=p(Y);ae=J(oe,"Asked by "),S=J(oe,Q),oe.forEach(g),B=w(H),ee=h(H,"DIV",{});var b=p(ee);se=J(b,M),b.forEach(g),H.forEach(g),y.forEach(g),ne=w(E),E.forEach(g),this.h()},h(){c(l,"class","text-xl font-semibold text-gray-900 dark:text-white hover:text-primary-600 dark:hover:text-primary-400"),c(f,"stroke-linecap","round"),c(f,"stroke-linejoin","round"),c(f,"stroke-width","2"),c(f,"d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"),c(n,"xmlns","http://www.w3.org/2000/svg"),c(n,"class","h-5 w-5 mr-1"),c(n,"fill","none"),c(n,"viewBox","0 0 24 24"),c(n,"stroke","currentColor"),c(i,"class","flex items-center text-gray-500 dark:text-gray-400 text-sm"),c(r,"class","flex justify-between items-start"),c(m,"class","mt-2 text-gray-600 dark:text-gray-300 line-clamp-2"),c(V,"class","mt-4 flex flex-wrap gap-2"),c(q,"class","mt-4 flex justify-between items-center text-sm text-gray-500 dark:text-gray-400"),c(t,"href",j=`/questions/${d[13].id}`),c(t,"class","block p-6"),c(e,"class","bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow")},m(_,E){F(_,e,E),s(e,t),s(t,r),s(r,l),s(l,a),s(r,u),s(r,i),s(i,n),s(n,f),s(i,T),s(i,W),s(i,X),s(t,z),s(t,m),s(m,O),s(t,P),s(t,V);for(let y=0;y<k.length;y+=1)k[y]&&k[y].m(V,null);s(t,le),s(t,q),s(q,Y),s(Y,ae),s(Y,S),s(q,B),s(q,ee),s(ee,se),s(e,ne)},p(_,E){var y;if(E&32&&o!==(o=_[13].title+"")&&re(a,o),E&32&&L!==(L=(((y=_[13].answers)==null?void 0:y.length)||0)+"")&&re(W,L),E&32&&D!==(D=_[13].content+"")&&re(O,D),E&32){R=de(_[13].tags);let x;for(x=0;x<R.length;x+=1){const G=qe(_,R,x);k[x]?k[x].p(G,E):(k[x]=je(G),k[x].c(),k[x].m(V,null))}for(;x<k.length;x+=1)k[x].d(1);k.length=R.length}E&32&&Q!==(Q=(_[13].userId||"Anonymous")+"")&&re(S,Q),E&32&&M!==(M=new Date(_[13].createdAt).toLocaleDateString()+"")&&re(se,M),E&32&&j!==(j=`/questions/${_[13].id}`)&&c(t,"href",j)},d(_){_&&g(e),xe(k,_)}}}function rt(d){let e,t="Ask the first question";return{c(){e=v("a"),e.textContent=t,this.h()},l(r){e=h(r,"A",{href:!0,class:!0,"data-svelte-h":!0}),U(e)!=="svelte-96u0gt"&&(e.textContent=t),this.h()},h(){c(e,"href","/questions/create"),c(e,"class","btn btn-primary")},m(r,l){F(r,e,l)},p:$,d(r){r&&g(e)}}}function lt(d){let e,t="Clear filters",r,l;return{c(){e=v("button"),e.textContent=t,this.h()},l(o){e=h(o,"BUTTON",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1t0epno"&&(e.textContent=t),this.h()},h(){c(e,"class","btn btn-outline")},m(o,a){F(o,e,a),r||(l=ke(e,"click",d[11]),r=!0)},p:$,d(o){o&&g(e),r=!1,l()}}}function at(d){let e,t,r,l,o,a,u="Questions & Answers",i,n,f,T,L,W='<a href="/questions/create" class="btn btn-primary">Ask a Question</a>',X,z,m,D,O,P,V,le,q,Y='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>',ae,Q,S,B,ee="Most Recent",M,se="Most Popular",j,ne="Unanswered",R,k,A,_,E,y,x='<nav class="inline-flex rounded-md shadow"><a href="#" class="px-4 py-2 rounded-l-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700">Previous</a> <a href="#" class="px-4 py-2 border-t border-b border-gray-300 dark:border-gray-600 bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-300">1</a> <a href="#" class="px-4 py-2 border-t border-b border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700">2</a> <a href="#" class="px-4 py-2 rounded-r-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700">Next</a></nav>',G,Z,ce;f=new Ye({});let I=d[4].length>0&&Ae(d);const ue=[tt,et,$e,Ze],H=[];function oe(b,N){return b[2]?0:b[3]?1:b[5].length===0?2:3}return A=oe(d),_=H[A]=ue[A](d),{c(){e=v("div"),t=v("div"),r=v("div"),l=v("div"),o=v("div"),a=v("h1"),a.textContent=u,i=C(),n=v("div"),He(f.$$.fragment),T=C(),L=v("div"),L.innerHTML=W,X=C(),z=v("div"),m=v("div"),D=v("div"),O=v("div"),P=v("div"),V=v("input"),le=C(),q=v("div"),q.innerHTML=Y,ae=C(),Q=v("div"),S=v("select"),B=v("option"),B.textContent=ee,M=v("option"),M.textContent=se,j=v("option"),j.textContent=ne,R=C(),I&&I.c(),k=C(),_.c(),E=C(),y=v("div"),y.innerHTML=x,this.h()},l(b){e=h(b,"DIV",{class:!0});var N=p(e);t=h(N,"DIV",{class:!0});var ie=p(t);r=h(ie,"DIV",{class:!0});var te=p(r);l=h(te,"DIV",{class:!0});var he=p(l);o=h(he,"DIV",{});var ve=p(o);a=h(ve,"H1",{class:!0,"data-svelte-h":!0}),U(a)!=="svelte-1u2omo9"&&(a.textContent=u),i=w(ve),n=h(ve,"DIV",{class:!0});var we=p(n);Be(f.$$.fragment,we),we.forEach(g),ve.forEach(g),T=w(he),L=h(he,"DIV",{class:!0,"data-svelte-h":!0}),U(L)!=="svelte-16f9kq0"&&(L.innerHTML=W),he.forEach(g),X=w(te),z=h(te,"DIV",{class:!0});var Ce=p(z);m=h(Ce,"DIV",{class:!0});var ge=p(m);D=h(ge,"DIV",{class:!0});var _e=p(D);O=h(_e,"DIV",{class:!0});var Ee=p(O);P=h(Ee,"DIV",{class:!0});var me=p(P);V=h(me,"INPUT",{type:!0,placeholder:!0,class:!0}),le=w(me),q=h(me,"DIV",{class:!0,"data-svelte-h":!0}),U(q)!=="svelte-v4qrfe"&&(q.innerHTML=Y),me.forEach(g),Ee.forEach(g),ae=w(_e),Q=h(_e,"DIV",{});var Ie=p(Q);S=h(Ie,"SELECT",{class:!0});var pe=p(S);B=h(pe,"OPTION",{"data-svelte-h":!0}),U(B)!=="svelte-ijeavb"&&(B.textContent=ee),M=h(pe,"OPTION",{"data-svelte-h":!0}),U(M)!=="svelte-184dggr"&&(M.textContent=se),j=h(pe,"OPTION",{"data-svelte-h":!0}),U(j)!=="svelte-yt95ym"&&(j.textContent=ne),pe.forEach(g),Ie.forEach(g),_e.forEach(g),R=w(ge),I&&I.l(ge),ge.forEach(g),Ce.forEach(g),k=w(te),_.l(te),E=w(te),y=h(te,"DIV",{class:!0,"data-svelte-h":!0}),U(y)!=="svelte-17cvdfo"&&(y.innerHTML=x),te.forEach(g),ie.forEach(g),N.forEach(g),this.h()},h(){c(a,"class","text-3xl font-bold text-gray-900 dark:text-white"),c(n,"class","mt-2"),c(L,"class","mt-4 md:mt-0"),c(l,"class","flex flex-col md:flex-row md:items-center md:justify-between mb-8"),c(V,"type","text"),c(V,"placeholder","Search questions..."),c(V,"class","input pl-10"),c(q,"class","absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"),c(P,"class","relative"),c(O,"class","flex-1"),B.__value="recent",fe(B,B.__value),M.__value="popular",fe(M,M.__value),j.__value="unanswered",fe(j,j.__value),c(S,"class","input"),c(D,"class","flex flex-col md:flex-row md:items-center gap-4"),c(m,"class","p-6"),c(z,"class","bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden mb-6"),c(y,"class","mt-8 flex justify-center"),c(r,"class","py-6"),c(t,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"),c(e,"class","min-h-screen bg-gray-50 dark:bg-gray-900 pt-16 pb-20")},m(b,N){F(b,e,N),s(e,t),s(t,r),s(r,l),s(l,o),s(o,a),s(o,i),s(o,n),Se(f,n,null),s(l,T),s(l,L),s(r,X),s(r,z),s(z,m),s(m,D),s(D,O),s(O,P),s(P,V),fe(V,d[0]),s(P,le),s(P,q),s(D,ae),s(D,Q),s(Q,S),s(S,B),s(S,M),s(S,j),s(m,R),I&&I.m(m,null),s(r,k),H[A].m(r,null),s(r,E),s(r,y),G=!0,Z||(ce=ke(V,"input",d[9]),Z=!0)},p(b,[N]){N&1&&V.value!==b[0]&&fe(V,b[0]),b[4].length>0?I?I.p(b,N):(I=Ae(b),I.c(),I.m(m,null)):I&&(I.d(1),I=null);let ie=A;A=oe(b),A===ie?H[A].p(b,N):(Je(),be(H[ie],1,1,()=>{H[ie]=null}),Ge(),_=H[A],_?_.p(b,N):(_=H[A]=ue[A](b),_.c()),ye(_,1),_.m(r,E))},i(b){G||(ye(f.$$.fragment,b),ye(_),G=!0)},o(b){be(f.$$.fragment,b),be(_),G=!1},d(b){b&&g(e),Oe(f),I&&I.d(),H[A].d(),Z=!1,ce()}}}function st(d,e,t){let r,l;Ue(d,Ke,m=>t(12,l=m));let o=[],a=!0,u=null,i="",n=[],f=[];Qe(async()=>{if(!l.userId||!l.location){We("/");return}try{const m=await Te.qanda.getTags();t(4,f=m),await T()}catch(m){console.error("Error loading data:",m),t(3,u="Failed to load questions. Please try again.")}finally{t(2,a=!1)}});async function T(){t(2,a=!0),t(3,u=null);try{const m=await Te.qanda.getQuestions();t(8,o=m)}catch(m){console.error("Error loading questions:",m),t(3,u="Failed to load questions. Please try again.")}finally{t(2,a=!1)}}function L(m){n.includes(m)?t(1,n=n.filter(D=>D!==m)):t(1,n=[...n,m])}function W(){i=this.value,t(0,i)}const X=m=>L(m),z=()=>{t(1,n=[]),t(0,i="")};return d.$$.update=()=>{d.$$.dirty&259&&t(5,r=o.filter(m=>{const D=i===""||m.title.toLowerCase().includes(i.toLowerCase())||m.content.toLowerCase().includes(i.toLowerCase()),O=n.length===0||n.every(P=>m.tags.includes(P));return D&&O}))},[i,n,a,u,f,r,T,L,o,W,X,z]}class vt extends Fe{constructor(e){super(),Re(this,e,st,at,ze,{})}}export{vt as component};
